# Configuration

You can configure the SomMark CLI using a `smark.config.js` file. The CLI supports both global and local (project-level) configuration. This file must export a default object.

## Initialization & Global Configuration

The easiest way to get started is by initializing a global configuration directory:

```bash
sommark init
```

Depending on your operating system, this creates a default `smark.config.js` and a `plugins/` directory in:
- **Windows**: `%APPDATA%\sommark\`
- **macOS**: `~/Library/Application Support/sommark/`
- **Linux**: `~/.config/sommark/`

## Configuration Resolution Priority

When running a command, SomMark determines which `smark.config.js` to load using the following priority (highest to lowest):

1. **Global User Configuration**: (`~/.config/sommark/smark.config.js` or OS equivalent)
2. **Local Project Configuration**: (`./smark.config.js` in the current working directory)

If a global configuration file is found, the CLI will use it and ignore any local project configuration file.

### Checking Configuration Paths

You can check which paths SomMark is using and whether those configuration files currently exist by running:

```bash
sommark show config
```

## Local (Project) Usage

If you prefer configuration per-project rather than globally, simply create a `smark.config.js` file in your project root:

```javascript
/* smark.config.js */

export default {
    // Directory where the compiled file will be saved
    outputDir: "./dist",

    // Name of the output file
    outputFile: "index"
};
```

## Options

| Option | Type | Default | Description |
| :--- | :--- | :--- | :--- |
| `outputDir` | `string` | `process.cwd()` | The directory path where the output file will be generated. |
| `outputFile` | `string` | `"output"` | The name of the generated file (excluding the extension). |
| `mappingFile` | `Mapper` | `null` | A custom **Mapper** instance to be used during transpilation. |

## Advanced Example: Custom Mapper

You can import and use your custom mappers directly in the config file.

```javascript
/* smark.config.js */
import myCustomMapper from "./mappers/my-mapper.js";

export default {
    outputDir: "./docs",
    outputFile: "readme",
    mappingFile: myCustomMapper
};
```

## Command-Line Priority

Command-line arguments always take highest precedence, overriding any settings found in either the global or local configuration file.

For example, if your `smark.config.js` has:
```javascript
export default { outputFile: "config-name" };
```

And you run:
```bash
sommark --html input.smark -o cli-name
```

The output file will be named **`cli-name.html`**, ignoring the configuration file.
